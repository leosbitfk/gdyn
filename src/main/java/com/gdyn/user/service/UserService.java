package com.gdyn.user.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;  
  






import com.gdyn.user.DAO.UserinfoDAO;
import com.gdyn.user.userinfo.Userinfo;
import com.gdyn.util.MD5;
  
@Service("UserService")  
public class UserService  {  
    @Autowired
    private UserinfoDAO userDao;  
    /**
     * 根据id获取用户
     * @param userId
     * @return
     */
    public Userinfo getUserById(String userId) {  
        // TODO Auto-generated method stub  
        return  this.userDao.selectByPrimaryKey(userId);  
    }  
     /**
      * 根据id更新用户信息
      */
//    public void updateUserinfo(Userinfo user){
//    	int a=userDao.updateByPrimaryKey(user);
//    }
    public void updateUserinfo(Userinfo user){
    	int a=userDao.updateByPrimaryKeySelective(user);
    }
    /**
     * 获取所有用户信息
     */
    public List<Userinfo> queryAlluserinfo(){
    	return this.userDao.selectAllUser();
    }
    /**
     * 根据用户id更改password
     */
    public void updatePassword(Userinfo record){
    	record.setPassword(MD5.getMd5(record.getPassword()));
    	int a=userDao.updateByPrimaryKey(record);
    }
}  
